<h1>Aging Work in Progress</h1>
<div>
  <canvas id="aging_work_in_progress" width="800" height="400"></canvas>
</div>
<script>
new Chart(document.getElementById('aging_work_in_progress').getContext('2d'),
{
  data: {
    datasets: <%= JSON.generate(data_sets) %>,
    labels: [<%= column_headings.collect(&:inspect).join(',') %>]
  },
  options: {
    title: {
      display: true,
      text:    "Aging work in progress"
    },
    responsive: false, // If responsive is true then it fills the screen
    scales: {
      x: {
        scaleLabel: {
          display: true,
          labelString: 'Date Completed'
        }
      },
      y: {
        scaleLabel: {
          display: true,
          labelString: 'Days'
        }
      }
    },
    plugins: {
      tooltip: {
        callbacks: {
          label: function(context) {
            return context.dataset.data[context.dataIndex].title
          }
        }
      }
    }
  }
});
</script>
